$(document).ready((function(){$("[data-bs-chart]").each((function(e,t){this.chart=new Chart($(t),$(t).data("bs-chart"))}))}));const firebaseConfig={apiKey:"AIzaSyBFGetUUogpqYB_9HTZFZ-jGn937Njy3i8",authDomain:"telepsychplus-293917.firebaseapp.com",projectId:"telepsychplus-293917",storageBucket:"telepsychplus-293917.appspot.com",messagingSenderId:"463893849878",appId:"1:463893849878:web:6e6b48f4bcba304ef39237",measurementId:"G-0E5904Q7B1"};firebase.initializeApp(firebaseConfig);const messaging=firebase.messaging();messaging.requestPermission().then((function(){return console.log("Have Permission"),messaging.getToken()})).then((function(e){console.log("firebase token -",e)})).catch((function(e){console.log("Error Occured notification permission",e)})),messaging.setBackgroundMessageHandler((function(e){const t={body:e.data.status};return self.registration.showNotification("Hello World",t)}));var testTool={b64EncodeUnicode:function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))},b64DecodeUnicode:function(e){return decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},isMobileDevice:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)},getMeetingConfig:function(){return{mn:parseInt(document.getElementById("meeting_number").value),name:testTool.b64EncodeUnicode(document.getElementById("display_name").value),pwd:document.getElementById("meeting_pwd").value,role:parseInt(document.getElementById("meeting_role").value,10),email:testTool.b64EncodeUnicode(document.getElementById("meeting_email").value),lang:document.getElementById("meeting_lang").value,signature:"",china:document.getElementById("meeting_china").value}},createZoomNode:function(e,t){const n=document.createElement("iframe");n.id=e,n.sandbox="allow-forms allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox",n.allow="microphone; camera; fullscreen;",n.src=t,n.style="","function"==typeof document.body.append?document.body.append(n):document.body.appendChild(n)},getCurrentDomain:function(){return window.location.protocol+"//"+window.location.hostname+":"+window.location.port},parseQuery:function(){return function(){for(var e=window.location.href,t=e.substr(e.indexOf("?")),n={},a=("?"===t[0]?t.substr(1):t).split("&"),o=0;o<a.length;o+=1){var r=a[o].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n}()},parseURL:function(e){return function(){var t=e,n=new URL(e),a=t.substr(t.indexOf("?")),o={};o.url=e,o.hostname=n.hostname,o.pathname=n.pathname,o.hash=n.hash;for(var r=("?"===a[0]?a.substr(1):a).split("&"),i=0;i<r.length;i+=1){var s=r[i].split("=");o[decodeURIComponent(s[0])]=decodeURIComponent(s[1]||"")}return o}()},serialize:function(e){var t=["name","mn","email","pwd","role","lang","signature","china"];Array.intersect=function(){for(var e=new Array,t={},n=0;n<arguments.length;n++)for(var a=0;a<arguments[n].length;a++){var o=arguments[n][a];t[o]?(t[o]++,t[o]==arguments.length&&e.push(o)):t[o]=1}return e},Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{enumerable:!1,value:function(e){return this.filter((function(t){return t===e})).length>0}});var n=Array.intersect(t,Object.keys(e)),a=[];return t.forEach((function(t){n.includes(t)&&a.push([t,e[t]])})),Object.keys(e).sort().forEach((function(t){n.includes(t)||a.push([t,e[t]])})),function(e){var t=[];for(var n in e)void 0!==e[n][1]&&t.push(encodeURIComponent(e[n][0])+"="+encodeURIComponent(e[n][1]));return t.join("&")}(a)},detectOS:function(){var e=navigator.userAgent,t="Win32"===navigator.platform||"Windows"===navigator.platform,n="Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform;if(n)return"Mac";if("X11"===navigator.platform&&!t&&!n)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(t){if(e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1)return"Win2000";if(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)return"WinXP";if(e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1)return"Win2003";if(e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1)return"WinVista";if(e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1)return"Win7";if(e.indexOf("Windows NT 10")>-1||e.indexOf("Windows 10")>-1)return"Win10"}return"other"},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return"IE"+parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return"IE"+parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var a=e.indexOf("Edge/");return a>0&&"Edge"+parseInt(e.substring(a+5,e.indexOf(".",a)),10)},getBrowserInfo:function(){var e=navigator.userAgent.toLowerCase();if(e.indexOf("firefox")>0)return e.match(/firefox\/[\d.]+/gi);if(e.indexOf("safari")>0&&e.indexOf("chrome")<0){var t,n="safari/unknow";return n=e.match(/version\/[\d.]+/gi),t=e.match(/safari\/[\d.]+/gi),n&&(n=n.toString().replace("version","safari")),t&&(n=t.toString().replace("version","safari")),n}var a=testTool.detectIE();return a||(e.indexOf("chrome")>0?e.match(/chrome\/[\d.]+/gi):"other")},getRandomInt:function(e){return Math.floor(Math.random()*Math.floor(e))},extractHostname:function(e){return(e.indexOf("//")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]},getDomainName:function(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e5);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a+=1){for(var o=n[a];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return o.substring(t.length,o.length)}return""},deleteAllCookies:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var n=e[t],a=n.indexOf("="),o=a>-1?n.substr(0,a):n;document.cookie=o+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}}};if(window.testTool=testTool,null!=document.getElementById("signature-pad-1")){var wrapper=document.getElementById("signature-pad-1"),clearButton=wrapper.querySelector("[data-action=clear]"),undoButton=wrapper.querySelector("[data-action=undo]"),lockButton=wrapper.querySelector("[data-action=lock]"),uploadSignature=wrapper.querySelector("[data-action=upload-signature]"),uploadedFile=wrapper.querySelector("input[type=file]"),signatureinputField=wrapper.querySelector("input[type=text]"),canvas=wrapper.querySelector("canvas"),signaturePad=new SignaturePad(canvas,{backgroundColor:"rgb(255, 255, 255)",penColor:"rgb(0, 0, 0)",velocityFilterWeight:.7,minWidth:.5,maxWidth:2.5,throttle:16,minPointDistance:3,onEnd:function(){wrapper.querySelector("input[type=text]").value=signaturePad.toDataURL(),console.log("sign 1 data - ",wrapper.querySelector("input[type=text]").value),"data:,"==wrapper.querySelector("input[type=text]").value&&resizeCanvas()}});function resizeCanvas(){var e=Math.max(window.devicePixelRatio||1,1);canvas.width=canvas.offsetWidth*e,canvas.height=canvas.offsetHeight*e,canvas.getContext("2d").scale(e,e);var t=signaturePad.toData();signaturePad.fromData(t)}function checkLock(){return status=lockButton.childNodes[0].className,"fa fa-lock"===status}window.onresize=resizeCanvas,resizeCanvas(),lockButton.addEventListener("click",(function(e){"fa fa-unlock-alt"==this.childNodes[0].className?(this.childNodes[0].className="fa fa-lock",signaturePad.off()):(this.childNodes[0].className="fa fa-unlock-alt",signaturePad.on())})),clearButton.addEventListener("click",(function(e){checkLock()||signaturePad.clear()})),undoButton.addEventListener("click",(function(e){var t=signaturePad.toData();checkLock()||t&&(t.pop(),signaturePad.fromData(t))})),uploadSignature.addEventListener("click",(function(e){wrapper.querySelector("input[type=file]").trigger("click")})),uploadedFile.addEventListener("change",(function(e){}))}if(null!=document.getElementById("signature-pad-2")){var wrapper2=document.getElementById("signature-pad-2"),clearButton2=wrapper2.querySelector("[data-action=clear]"),undoButton2=wrapper2.querySelector("[data-action=undo]"),lockButton2=wrapper2.querySelector("[data-action=lock]"),uploadSignature2=wrapper2.querySelector("[data-action=upload-signature]"),uploadedFile2=wrapper2.querySelector("input[type=file]"),signatureinputField2=wrapper2.querySelector("input[type=text]"),canvas2=wrapper2.querySelector("canvas"),signaturePad2=new SignaturePad(canvas2,{backgroundColor:"rgb(255, 255, 255)",backgroundColor:"rgb(255, 255, 255)",penColor:"rgb(0, 0, 0)",velocityFilterWeight:.7,minWidth:.5,maxWidth:2.5,throttle:16,minPointDistance:3,onEnd:function(){wrapper2.querySelector("input[type=text]").value=signaturePad2.toDataURL(),console.log("sign 2 data - ",wrapper2.querySelector("input[type=text]").value),"data:,"==wrapper2.querySelector("input[type=text]").value&&resizeCanvas2()}});function resizeCanvas2(){var e=Math.max(window.devicePixelRatio||1,1);canvas2.width=canvas2.offsetWidth*e,canvas2.height=canvas2.offsetHeight*e,canvas2.getContext("2d").scale(e,e);var t=signaturePad2.toData();signaturePad2.fromData(t)}function checkLock2(){return"fa fa-lock"===lockButton2.childNodes[0].className}window.onresize=resizeCanvas2,resizeCanvas2(),lockButton2.addEventListener("click",(function(e){"fa fa-unlock-alt"==this.childNodes[0].className?(this.childNodes[0].className="fa fa-lock",signaturePad2.off()):(this.childNodes[0].className="fa fa-unlock-alt",signaturePad2.on())})),clearButton2.addEventListener("click",(function(e){checkLock2()||signaturePad2.clear()})),undoButton2.addEventListener("click",(function(e){var t=signaturePad2.toData();checkLock2()||t&&(t.pop(),signaturePad2.fromData(t))}))}function dataURLToBlob(e){for(var t=e.split(";base64,"),n=t[0].split(":")[1],a=window.atob(t[1]),o=a.length,r=new Uint8Array(o),i=0;i<o;++i)r[i]=a.charCodeAt(i);return new Blob([r],{type:n})}function download(e,t){if(navigator.userAgent.indexOf("Safari")>-1&&-1===navigator.userAgent.indexOf("Chrome"))window.open(e);else{var n=dataURLToBlob(e),a=window.URL.createObjectURL(n),o=document.createElement("a");o.style="display: none",o.href=a,o.download=t,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(a)}}function printForm(e){$(".page-header");let t=$(`iframe[name="${e}"`).contents().find(".page-header").height(),n=$(`iframe[name="${e}"`).contents().find(".page-footer").height();void 0===t&&(t=0),void 0===n&&(n=0),t+=10,n+=10,$(`iframe[name="${e}"`).contents().find(".style").text(`@media print {.page-header-space { height: ${t}px!important;} .page-footer-space {height: ${n}px!important;}}`),window.frames[e].print()}function resizeHeaderFooter(){let e=$("header").height(),t=$("footer").height();void 0===e&&(e=0),void 0===t&&(t=0),e+=10,t+=10,$(".style").text(`@media print {.page-header-space { height: ${e}px!important;} .page-footer-space {height: ${t}px!important;}}`)}function signInButton(){var e={Username:document.getElementById("inputUsername").value,Password:document.getElementById("inputPassword").value},t=new AmazonCognitoIdentity.AuthenticationDetails(e),n=new AmazonCognitoIdentity.CognitoUserPool(poolData),a={Username:document.getElementById("inputUsername").value,Pool:n};new AmazonCognitoIdentity.CognitoUser(a).authenticateUser(t,{onSuccess:function(e){User.accessToken=e.getAccessToken().getJwtToken(),User.role=e.idToken.payload["cognito:groups"][0]?e.idToken.payload["cognito:groups"][0]:"patient",console.log("user details - ",User),User.loginResponse=e},onFailure:function(e){console.log(e.message||JSON.stringify(e))}})}function signUpButton(){var e=new AmazonCognitoIdentity.CognitoUserPool(poolData),t=[],n=new AmazonCognitoIdentity.CognitoUserAttribute({Name:"email",Value:"........."}),a=new AmazonCognitoIdentity.CognitoUserAttribute({Name:"phone_number",Value:"...................."});t.push(n),t.push(a),e.signUp("username","password",t,null,(function(e,t){if(e)alert(e.message||JSON.stringify(e));else{var n=t.user;console.log("user name is "+n.getUsername())}}))}resizeHeaderFooter();